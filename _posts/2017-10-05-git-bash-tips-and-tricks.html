---
layout: post
status: publish
published: true
title: Git bash tips and tricks
author:
  display_name: Naguib Ihab
  login: naguibihab
  email: nick@anideaforanapp.com
  url: ''
author_login: naguibihab
author_email: nick@anideaforanapp.com
wordpress_id: 151
wordpress_url: http://mycodelife.com/?p=151
date: '2017-10-05 04:51:57 +1100'
date_gmt: '2017-10-05 04:51:57 +1100'
categories:
- Techy
- git
tags: []
comments: []
---
<p>If you're new to Git checkout Roger Dudler's awesome and simple <a href="http://rogerdudler.github.io/git-guide/?lipi=urn%3Ali%3Apage%3Ad_flagship3_pulse_read%3BCDG3TZcUSfSMD9owHa%2Bfqg%3D%3D">tutorial</a>.</p>
<h2>#1 How to setup KDiff3 as your default merge tool on git</h2>
<p>Here are some steps with screenshots showing how to setup KDiff3 as your default merge tool (the below example is done using Windows 10):</p>
<ol>
<li><a href="http://sourceforge.net/projects/kdiff3/?source=typ_redirect" target="_blank" rel="nofollow noopener">Download KDIFF3</a> and set it up. Copy the location it got installed in as per the screenshot below<img class="aligncenter wp-image-155 size-full" src="http://mycodelife.com/wp-content/uploads/2017/10/AAEAAQAAAAAAAAhwAAAAJDA5NjIwMTkzLTk2NWQtNDI0ZS05NDM0LTZiZmY5NWRlZjhmOQ.png" alt="" width="506" height="390" /></li>
<li>Open git shell. Open your source code folder, right click and click on git bash here (If you can’t find that then make sure you have installed <a href="http://git-scm.com/download/win" target="_blank" rel="nofollow noopener">git for windows</a> successfully)<img class="aligncenter wp-image-156 size-full" src="http://mycodelife.com/wp-content/uploads/2017/10/AAEAAQAAAAAAAAgZAAAAJGVkNDUzNGI5LTMzYzAtNGEwZS04Mzk0LTI3NTc0NmU5NjU0Mg.png" alt="" width="307" height="436" /></li>
<li>Type the following command in git to configure the variable that we’ll use later to tell git what strategy to use when merging:
<pre>git <span class="hljs-comment" style="font-family: Consolas, Monaco, monospace;">config</span> <span class="hljs-literal" style="font-family: Consolas, Monaco, monospace;">--</span><span class="hljs-comment" style="font-family: Consolas, Monaco, monospace;">global</span> <span class="hljs-comment" style="font-family: Consolas, Monaco, monospace;">mergetool</span> <span class="hljs-comment" style="font-family: Consolas, Monaco, monospace;">kdiff3</span></pre>
</li>
<li>Then type in the following command and modify the location (bolded below) according to where KDiff3 was installed on your machine, then you’re telling git the strategy it should use to merge, below we’re using the following order (base - local - remote) and outputting the merged result
<pre>git config --<span class="hljs-built_in" style="font-family: Consolas, Monaco, monospace;">global</span><span style="font-family: Consolas, Monaco, monospace;"> mergetool.kdiff3.cmd </span><span class="hljs-string" style="font-family: Consolas, Monaco, monospace;">'"C:\Program Files\KDiff3\kdiff3.exe" $BASE $LOCAL $REMOTE -o $MERGED'</span></pre>
</li>
<li>After that you should be able to merge using KDIFF3 when you have a merge conflict by running the following command:
<pre>git mergetool</pre>
</li>
</ol>
<h2>#2 If file path or name is too long for windows</h2>
<p>You might face that issue if you're working with Nodejs as the node_modules folder can be a rabbit hole and windows has a limitation of 260 characters for file paths or names, however, you can tell git to ignore that limitation by using:</p>
<pre>git config --system core.longpaths <span class="hljs-literal">true</span></pre>
<p>Also if you ever need to delete that folder but windows or cmd won't let you, open git bash and use (that command wouldn't work from a windows' cmd due to the limitation but would work from a git shell as the limitation is no longer there):</p>
<pre>rm -rf foldername</pre>
<h2>#3 Ignoring a file from a certain branch only without affecting .gitignore</h2>
<p>Sometimes when I branch out I do a certain change that I don't want to include in my commits (i.e. database connection string or my IDE's .project file) but at the same time, I can't use .gitignore because if I commit that then everyone will also ignore that file once I merge my code. So what's the solution you ask? git's brilliant exclude file which can be found in:</p>
<pre>yourproject/.git/info/exclude</pre>
<p>Whatever path you add in that file will not come up in 'git status' and will not be included in 'git add .' But remember that this change still exists, so if you want to check out another branch it may stop you from doing so since you have uncommitted changes.</p>
<h2>#4 Stashing changes</h2>
<p>If you're in the middle of something but for some reason or other want to check out another branch. No harm will come from committing unfinished changes and coming back to them later but if you wouldn't like to do that then stashing them is a good option:</p>
<pre>git stash</pre>
<p>allows you to stash your changes locally</p>
<pre spellcheck="false">git stash <span class="hljs-keyword">show</span></pre>
<p spellcheck="false">shows you what's in your stash</p>
<pre spellcheck="false">git stash apply</pre>
<p>allows you to apply the stashed changes to your current code</p>
<pre spellcheck="false">git stash <span class="hljs-built_in">drop
</span></pre>
<p>allows you to drop the changes you have in your stash</p>
<p spellcheck="false"><span class="hljs-built_in">Of course, this comes in nice and handy when you have your own database and checking out other branches in the code; you can stash the connection string change and checkout another branch and apply the stash then stash it again to checkout a different branch...etc.</span></p>
<p spellcheck="false">More about git stash <a href="http://git-scm.com/docs/git-stash?lipi=urn%3Ali%3Apage%3Ad_flagship3_pulse_read%3BCDG3TZcUSfSMD9owHa%2Bfqg%3D%3D">here</a>.</p>
<h2>#5 Finding out the author of each line in a particular file</h2>
<p>In the not-so-unlikely scenario where the code becomes a mess and you want to look back into the history of a particular file, you can use</p>
<pre>git blame filename</pre>
<p>which shows you the file's content and next to each line the author's name and a commit id. A great way to track changes and start "blaming" other people for messing up the code (as long as they can't prove that you started the mess)</p>
<p><img class="aligncenter wp-image-162 " src="http://mycodelife.com/wp-content/uploads/2017/10/AAEAAQAAAAAAAAl4AAAAJDI3ZjUzNTljLWNmY2EtNGQ0Zi1hZjJjLTAxNWJhNDFlMTg2ZQ.png" alt="" width="452" height="372" /></p>
<h2>#6 Renaming a branch</h2>
<p>I'm a fast typer and I <strong>always</strong> make typo mistakes when I type which include new branch names. Renaming a branch is not really a hidden tip or trick but it's a handy good-to-know kind of information:</p>
<pre spellcheck="false">git checkout -b newbarnch
git branch -m newbranch
</pre>
<p>If you have already pushed that branch before you renamed it then:</p>
<pre spellcheck="false">git push origin HEAD:newbarnch &lt;&lt; The branch name will remain incorrect <span class="hljs-literal">on</span> the remote repo
git push origin newbranch &lt;&lt; Create a <span class="hljs-keyword">new</span> branch <span class="hljs-keyword">by</span> that name
</pre>
<p>If you feel that there are other git tips and tricks that should be added to this post or if you have any questions just let me know in the comments :)</p>
